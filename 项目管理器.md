# èƒŒæ™¯
æ—¥å¸¸å·¥ä½œä¸­æœ‰å¾ˆå¤šé¡¹ç›®å¹¶è¡Œå¼€å‘ï¼Œå¯èƒ½ç”¨åˆ°ä¸åŒçš„å¼€å‘å·¥å…·ã€æœ‰äº›é¡¹ç›®å¯èƒ½åŒæ—¶ç”¨åˆ°å‡ ä¸ªideï¼Œæœ‰æ—¶éœ€è¦åŒæ—¶æ‰“å¼€å‡ ä¸ªideã€‚æ‰“å¼€å’Œç®¡ç†æœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥æƒ³åšä¸€ä¸ªè½»é‡ä½†æ˜¯åŠŸèƒ½é½å…¨çš„å·¥å…·ï¼Œæ¥ç®¡ç†æˆ‘çš„æ‰€æœ‰é¡¹ç›®ã€‚æˆ‘çš„ç›®æ ‡å¹³å°é’ˆå¯¹windowsï¼Œä¹Ÿè®¸ä»¥åè¿ç§»åˆ°macä¸Šã€‚

# æŠ€æœ¯æ–¹æ¡ˆ

## æŠ€æœ¯æ ˆé€‰å‹

### æ¡Œé¢æ¡†æ¶
- **Tauri 2.x**ï¼šç°ä»£è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
  - ä½¿ç”¨ Rust åç«¯ + Web å‰ç«¯ï¼Œä½“ç§¯å°ï¼ˆ~10MB vs Electron ~100MB+ï¼‰
  - è·¨å¹³å°æ”¯æŒï¼ˆWindowsã€macOSã€Linuxï¼‰
  - æ›´å¥½çš„æ€§èƒ½å’Œå®‰å…¨æ€§
  - æ›´ä½çš„å†…å­˜å ç”¨
  - å‰ç«¯å¯ä½¿ç”¨ Vue/React/Svelte ç­‰ Web æŠ€æœ¯

### åç«¯ï¼ˆRust / Tauri Coreï¼‰
- **é¡¹ç›®ç´¢å¼•ç®¡ç†**ï¼šä½¿ç”¨ `sqlite` æˆ– `rusqlite` å­˜å‚¨é¡¹ç›®å…ƒæ•°æ®
- **è¿›ç¨‹å¯åŠ¨**ï¼š`std::process::Command` å¯åŠ¨å¤–éƒ¨åº”ç”¨/IDE
- **æ–‡ä»¶ç›‘å¬**ï¼š`notify` crate ç›‘å¬é¡¹ç›®ç›®å½•å˜åŒ–
- **é…ç½®ç®¡ç†**ï¼š`serde_json` + JSON é…ç½®æ–‡ä»¶
- **ç³»ç»Ÿè°ƒç”¨**ï¼šTauri Commands API

### å‰ç«¯æŠ€æœ¯ï¼ˆWebViewï¼‰
- **Vue 3 + TypeScript**ï¼ˆæ¨èï¼‰
  - ä½¿ç”¨ `<script setup lang="ts">` è¯­æ³•
- **çŠ¶æ€ç®¡ç†**ï¼šPiniaï¼ˆVue å®˜æ–¹æ¨èï¼‰
- **UIç»„ä»¶åº“**ï¼š
  - Element Plusï¼ˆæˆç†Ÿã€ä¸­æ–‡å‹å¥½ï¼‰
  - æˆ– Ant Design Vue
  - æˆ– Naive UIï¼ˆè½»é‡ã€ç°ä»£ï¼‰
- **æ ·å¼**ï¼šTailwind CSS æˆ– UnoCSS
- **å›¾æ ‡åº“**ï¼š
  - @iconify/vueï¼ˆæ”¯æŒå¤šå›¾æ ‡é›†ï¼‰
  - æˆ– element-plus-icons-vue

## æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Frontend (Vue 3 + WebView)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ é¡¹ç›®åˆ—è¡¨  â”‚  â”‚ æœç´¢è¿‡æ»¤  â”‚  â”‚   IDEå¯åŠ¨å™¨      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ Tauri IPC (invoke)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Backend (Rust)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ProjectStore â”‚  â”‚ ProcessMgmt  â”‚  â”‚ ConfigMgmt â”‚ â”‚
â”‚  â”‚ (rusqlite)   â”‚  â”‚ (std::proc)  â”‚  â”‚(serde_json)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              OS System (Windows/macOS/Linux)         â”‚
â”‚  Â· æ–‡ä»¶ç³»ç»Ÿ    Â· è¿›ç¨‹å¯åŠ¨    Â· æ³¨å†Œè¡¨/ç¯å¢ƒå˜é‡        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ•°æ®æ¨¡å‹

### Projectï¼ˆé¡¹ç›®ï¼‰
```typescript
interface Project {
  id: string;                    // UUID
  name: string;                  // é¡¹ç›®åç§°
  path: string;                  // é¡¹ç›®æ ¹ç›®å½•ï¼ˆç»å¯¹è·¯å¾„ï¼‰
  projectType: ProjectType;      // é¡¹ç›®ç±»å‹
  favorite: boolean;             // æ˜¯å¦æ”¶è—
  tags: string[];                // è‡ªå®šä¹‰æ ‡ç­¾
  lastOpened: string | null;     // æœ€åæ‰“å¼€æ—¶é—´ï¼ˆISO 8601ï¼‰
  createdAt: string;             // åˆ›å»ºæ—¶é—´
  metadata: ProjectMetadata;     // å…ƒæ•°æ®
}

enum ProjectType {
  Rust = 'Rust',
  Nodejs = 'Nodejs',
  Python = 'Python',
  Java = 'Java',
  Go = 'Go',
  Dotnet = 'Dotnet',
  Generic = 'Generic',
}

interface ProjectMetadata {
  idePreferences: string[];      // é¦–é€‰ IDE ID åˆ—è¡¨
  gitUrl: string | null;         // Git ä»“åº“ URL
  description: string | null;    // é¡¹ç›®æè¿°
}
```

### IdeConfigï¼ˆIDEé…ç½®ï¼‰
```typescript
interface IdeConfig {
  id: string;                    // å”¯ä¸€æ ‡è¯†
  name: string;                  // æ˜¾ç¤ºåç§°ï¼Œå¦‚ "VSCode", "Neovim"
  executable: string;            // å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„
  argsTemplate: string;          // å¯åŠ¨å‚æ•°æ¨¡æ¿ï¼Œæ”¯æŒå˜é‡å ä½ç¬¦
  icon: string | null;           // å›¾æ ‡æ ‡è¯†
  category: IdeCategory;         // åˆ†ç±»ï¼šGUI/CLI/Terminal
  priority: number;              // ä¼˜å…ˆçº§ï¼ˆè¶Šå°è¶Šä¼˜å…ˆï¼‰
  autoDetected: boolean;         // æ˜¯å¦è‡ªåŠ¨å‘ç°
}

enum IdeCategory {
  GUI = 'GUI',                   // å›¾å½¢ç•Œé¢IDEï¼šVSCode, IntelliJ, Cursorç­‰
  CLI = 'CLI',                   // CLIå·¥å…·ï¼šnvim, helix, lazygitç­‰
  Terminal = 'Terminal',         // ç»ˆç«¯ç±»ï¼šwt, cmd, powershellç­‰
  Browser = 'Browser',           // æµè§ˆå™¨ç±»ï¼šchrome(ç”¨äºwebå¼€å‘)
}

// å†…ç½®IDEå®šä¹‰ï¼ˆå¯æ‰©å±•ï¼‰
interface BuiltinIde {
  id: string;
  name: string;
  category: IdeCategory;
  // Windowsæ£€æµ‹è·¯å¾„åˆ—è¡¨ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰
  detectionPaths: string[];
  // é»˜è®¤å¯åŠ¨å‚æ•°æ¨¡æ¿
  defaultArgs: string;
}
```

### IdeDiscoveryRuleï¼ˆIDEå‘ç°è§„åˆ™ï¼‰
```typescript
// ç”¨äºè‡ªåŠ¨å‘ç°ç³»ç»Ÿå·²å®‰è£…çš„IDE
interface IdeDiscoveryRule {
  id: string;
  name: string;
  category: IdeCategory;

  // æ£€æµ‹æ–¹å¼ï¼ˆå¤šç§æ–¹å¼ç»„åˆï¼‰
  detectors: IdeDetector[];

  // éªŒè¯å‘½ä»¤ï¼ˆç”¨äºæµ‹è¯•æ˜¯å¦çœŸçš„å¯ç”¨ï¼‰
  verifyCommand?: string;
  verifyArgs?: string[];

  // é»˜è®¤å¯åŠ¨å‚æ•°
  defaultArgs: string;
}

type IdeDetector =
  | { type: 'registry'; path: string; valueName: string }          // æ³¨å†Œè¡¨è·¯å¾„ï¼ˆWindowsï¼‰
  | { type: 'pathCommand'; command: string }                       // PATHç¯å¢ƒå˜é‡ä¸­çš„å‘½ä»¤å
  | { type: 'commonPaths'; paths: string[] }                       // å¸¸è§å®‰è£…è·¯å¾„
  | { type: 'startMenuShortcut'; name: string }                    // æ¡Œé¢å¿«æ·æ–¹å¼ï¼ˆ.lnkï¼‰
  | { type: 'wslPath'; wslCommand: string };                       // WSLè·¯å¾„æ£€æµ‹ï¼ˆé’ˆå¯¹WSLå†…çš„å·¥å…·ï¼‰
```

# åŠŸèƒ½éœ€æ±‚æè¿°

## æ ¸å¿ƒåŠŸèƒ½

### 1. é¡¹ç›®ç´¢å¼•ä¸å‘ç°
- **æ‰‹åŠ¨æ·»åŠ é¡¹ç›®**ï¼šé€‰æ‹©ç›®å½•æ·»åŠ åˆ°ç®¡ç†å™¨
- **è‡ªåŠ¨æ‰«æ**ï¼šæ‰«ææŒ‡å®šç›®å½•ï¼ˆå¦‚`~/dev`ï¼‰ï¼Œè‡ªåŠ¨è¯†åˆ«é¡¹ç›®ç±»å‹
  - è¯†åˆ«ç‰¹å¾ï¼š`package.json`ã€`Cargo.toml`ã€`requirements.txt`ã€`.git`ç­‰
- **é¡¹ç›®åˆ†ç»„**ï¼šæŒ‰ç±»å‹ã€æ ‡ç­¾ã€æ”¶è—åˆ†ç»„å±•ç¤º
- **æ‹–æ‹½æ’åº**ï¼šè‡ªå®šä¹‰é¡¹ç›®æ˜¾ç¤ºé¡ºåº

### 2. IDEå¯åŠ¨ç®¡ç†
- **å¤šIDEé…ç½®**ï¼šä¸ºæ¯ä¸ªé¡¹ç›®é…ç½®å¤šä¸ªå¯é€‰IDE
- **ä¸€é”®å¯åŠ¨**ï¼š
  - ä¸»IDEï¼šåŒå‡»é¡¹ç›®å¯åŠ¨é»˜è®¤IDE
  - å¤‡é€‰IDEï¼šå³é”®èœå•æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨IDE
- **æ‰¹é‡å¯åŠ¨**ï¼šé€‰ä¸­å¤šä¸ªé¡¹ç›®ï¼Œæ‰¹é‡æ‰“å¼€
- **IDEå‚æ•°æ¨¡æ¿**ï¼šæ”¯æŒè‡ªå®šä¹‰å¯åŠ¨å‚æ•°ï¼ˆå¦‚VSCodeçš„å¤šæ ¹å·¥ä½œåŒºï¼‰

### 3. æœç´¢ä¸è¿‡æ»¤
- **å…¨å±€å¿«æ·é”®**ï¼š`Ctrl+Shift+P` æˆ–è‡ªå®šä¹‰å¿«æ·é”®å”¤èµ·
- **å¿«é€Ÿæœç´¢**ï¼š
  - æŒ‰é¡¹ç›®åæ¨¡ç³Šæœç´¢
  - æŒ‰æ ‡ç­¾è¿‡æ»¤
  - æŒ‰é¡¹ç›®ç±»å‹è¿‡æ»¤
  - æŒ‰æœ€è¿‘æ‰“å¼€æ—¶é—´æ’åº
- **æ”¶è—ç½®é¡¶**ï¼šæ”¶è—çš„é¡¹ç›®ä¼˜å…ˆæ˜¾ç¤º

### 4. é¡¹ç›®å…ƒæ•°æ®ç®¡ç†
- **æ ‡ç­¾ç³»ç»Ÿ**ï¼šä¸ºé¡¹ç›®æ·»åŠ è‡ªå®šä¹‰æ ‡ç­¾ï¼ˆå¦‚"å·¥ä½œ"ã€"ä¸ªäºº"ã€"å­¦ä¹ "ï¼‰
- **é¡¹ç›®æè¿°**ï¼šæ·»åŠ é¡¹ç›®å¤‡æ³¨è¯´æ˜
- **Gité›†æˆ**ï¼š
  - æ˜¾ç¤ºå½“å‰åˆ†æ”¯
  - å¿«é€Ÿæ‰“å¼€Git remote URL
  - æ˜¾ç¤ºæœªæäº¤çš„æ›´æ”¹çŠ¶æ€

### 5. å¿«æ·æ“ä½œ
- **æ‰“å¼€ç»ˆç«¯**ï¼šåœ¨é¡¹ç›®ç›®å½•æ‰“å¼€ç»ˆç«¯ï¼ˆPowerShell/CMD/WTï¼‰
- **æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨**ï¼šåœ¨èµ„æºç®¡ç†å™¨ä¸­å®šä½é¡¹ç›®
- **å¤åˆ¶è·¯å¾„**ï¼šå¤åˆ¶é¡¹ç›®ç»å¯¹è·¯å¾„
- **åˆ é™¤é¡¹ç›®**ï¼šä»ç®¡ç†å™¨ç§»é™¤ï¼ˆä¸åˆ é™¤å®é™…æ–‡ä»¶ï¼‰

## è¿›é˜¶åŠŸèƒ½

### 6. é¡¹ç›®å¥åº·çŠ¶æ€
- **ä¾èµ–æ£€æŸ¥**ï¼šæ£€æµ‹`node_modules`ã€`target`ç­‰æ˜¯å¦å­˜åœ¨
- **GitçŠ¶æ€**ï¼šæ˜¾ç¤ºdirty/unpushedçŠ¶æ€
- **æœ€è¿‘æ´»åŠ¨**ï¼šè®°å½•æ–‡ä»¶ä¿®æ”¹æ—¶é—´

### 7. ä¸»é¢˜ä¸ç•Œé¢
- **æµ…è‰²/æ·±è‰²ä¸»é¢˜**ï¼šè·Ÿéšç³»ç»Ÿæˆ–æ‰‹åŠ¨åˆ‡æ¢
- **ç´§å‡‘/èˆ’é€‚æ¨¡å¼**ï¼šè°ƒæ•´åˆ—è¡¨é¡¹å¯†åº¦
- **è‡ªå®šä¹‰å›¾æ ‡**ï¼šä¸ºé¡¹ç›®è®¾ç½®è‡ªå®šä¹‰å›¾æ ‡

### 8. æ•°æ®åŒæ­¥
- **é…ç½®å¯¼å‡º/å¯¼å…¥**ï¼šå¤‡ä»½é¡¹ç›®åˆ—è¡¨å’Œé…ç½®
- **äº‘åŒæ­¥**ï¼šå¯é€‰æ”¯æŒåŒæ­¥åˆ°Dropbox/OneDriveç­‰

## ç•Œé¢è®¾è®¡è¦ç‚¹

### è®¾è®¡ç†å¿µï¼šç®€æ´æœ‰æ´»åŠ›

**å…³é”®è¯**ï¼šæ¸…çˆ½ã€æ˜äº®ã€æ´»åŠ›ã€é«˜æ•ˆ

- **é…è‰²æ–¹æ¡ˆ**ï¼š
  - ä¸»è‰²ï¼šæ´»åŠ›è“/ç´«æ¸å˜ï¼ˆ`#6366f1` â†’ `#8b5cf6`ï¼‰
  - å¼ºè°ƒè‰²ï¼šçŠç‘šæ©™ï¼ˆ`#f97316`ï¼‰ç”¨äºæ”¶è—å’Œé‡è¦æ“ä½œ
  - èƒŒæ™¯è‰²ï¼šçº¯å‡€ç™½ï¼ˆæµ…è‰²ï¼‰/ æ·±å²©ç°ï¼ˆæ·±è‰²ï¼‰
  - å¡ç‰‡ï¼šå¾®æŠ•å½±ï¼Œåœ†è§’ 8-12px
- **æ´»åŠ›å…ƒç´ **ï¼š
  - æ¸å˜æŒ‰é’®å’Œå›¾æ ‡
  - æ‚¬åœæ—¶å¾®å¦™çš„ç¼©æ”¾åŠ¨ç”»ï¼ˆscale: 1.02ï¼‰
  - æµç•…çš„è¿‡æ¸¡åŠ¨ç”»ï¼ˆ200-300ms ease-outï¼‰
  - ç±»å‹æ ‡ç­¾ä½¿ç”¨æ¸å˜èƒŒæ™¯è‰²
- **ç®€æ´åŸåˆ™**ï¼š
  - ç•™ç™½å……è¶³ï¼Œä¿¡æ¯å¯†åº¦é€‚ä¸­
  - å›¾æ ‡ä¼˜å…ˆï¼Œæ–‡å­—ç®€æ´
  - é¿å…è§†è§‰å™ªéŸ³ï¼Œä½¿ç”¨åˆ†éš”çº¿è€Œéè¾¹æ¡†

---

### UI ç•Œé¢ç»„æˆ

åº”ç”¨åŒ…å«ä¸¤ä¸ªç•Œé¢ï¼š

#### 1. ä¸»çª—å£ï¼ˆMain Windowï¼‰

**ç”¨é€”**ï¼šå®Œæ•´çš„é¡¹ç›®ç®¡ç†ã€IDE é…ç½®ã€è®¾ç½®ç­‰

**å¸ƒå±€ç»“æ„**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¦ Project Manager                    âš™ï¸  â€”  â–¡  Ã—      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” æœç´¢é¡¹ç›®...         [+ æ·»åŠ é¡¹ç›®]  [â­ æ”¶è—ç­›é€‰]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¿‡æ»¤å™¨: [å…¨éƒ¨ â–¼] [Rust] [Node.js] [Python] [Go]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ğŸ¦€ Rust    â”‚  â”‚  ğŸ“¦ Node.js â”‚  â”‚  ğŸ Python  â”‚     â”‚
â”‚  â”‚ my-project  â”‚  â”‚ web-app     â”‚  â”‚ api-server  â”‚     â”‚
â”‚  â”‚ â­ VSCode   â”‚  â”‚ Cursor      â”‚  â”‚ PyCharm     â”‚     â”‚
â”‚  â”‚ [â–¶ï¸] [ğŸ“]   â”‚  â”‚ [â–¶ï¸] [ğŸ“]   â”‚  â”‚ [â–¶ï¸] [ğŸ“]   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ğŸ¹ Go      â”‚  â”‚  â˜• Java    â”‚  â”‚  ğŸ“„ Generic  â”‚     â”‚
â”‚  â”‚ ...         â”‚  â”‚ ...         â”‚  â”‚ ...         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**çª—å£ç‰¹æ€§**ï¼š
- å°ºå¯¸ï¼š1200Ã—800ï¼ˆé»˜è®¤å¯è°ƒæ•´ï¼‰
- å¯æœ€å°åŒ–åˆ°æ‰˜ç›˜
- æ”¯æŒå…¨å±€å¿«æ·é”®å”¤èµ·/éšè—
- æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢

**æ ¸å¿ƒç»„ä»¶**ï¼š

1. **é¡¶éƒ¨æ **
   - æœç´¢æ¡†ï¼šå®æ—¶è¿‡æ»¤é¡¹ç›®
   - æ·»åŠ é¡¹ç›®æŒ‰é’®ï¼šæ¸å˜èƒŒæ™¯ + å›¾æ ‡
   - è§†å›¾åˆ‡æ¢ï¼šç½‘æ ¼/åˆ—è¡¨/ç´§å‡‘æ¨¡å¼

2. **è¿‡æ»¤å™¨æ **
   - é¡¹ç›®ç±»å‹æ ‡ç­¾ï¼ˆå¯ç‚¹å‡»è¿‡æ»¤ï¼‰
   - æ”¶è—ç­›é€‰å¼€å…³
   - æ’åºæ–¹å¼ä¸‹æ‹‰

3. **é¡¹ç›®å¡ç‰‡**
   ```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ğŸ¦€ my-api-server      â­ [VSCode]â”‚
   â”‚ ğŸ“ E:\dev\my-api              â”‚
   â”‚ ğŸ·ï¸ work  backend  #rust       â”‚
   â”‚                              â”‚
   â”‚ [â–¶ï¸ å¯åŠ¨] [ğŸ“ æ–‡ä»¶å¤¹] [âš™ï¸]     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ```
   - ç±»å‹å›¾æ ‡ + åç§° + æ”¶è—æ˜Ÿæ ‡
   - è·¯å¾„ï¼ˆç°è‰²å°å­—ï¼‰
   - æ ‡ç­¾ï¼ˆå½©è‰²èƒ¶å›Šï¼‰
   - å¿«æ·æ“ä½œæŒ‰é’®ï¼ˆæ‚¬åœæ˜¾ç¤ºï¼‰

4. **ä¾§è¾¹æ ï¼ˆå¯é€‰ï¼‰**
   - é¡¹ç›®æ ‘å½¢åˆ†ç»„
   - æœ€è¿‘æ‰“å¼€
   - æ ‡ç­¾äº‘

#### 2. è¿·ä½ çª—å£ï¼ˆMini Window /æ‰˜ç›˜é¢æ¿ï¼‰

**ç”¨é€”**ï¼šå¿«é€Ÿè®¿é—®å¸¸ç”¨é¡¹ç›®ï¼Œå›ºå®šåœ¨å±å¹•å³ä¸‹è§’

**è®¾è®¡çµæ„Ÿ**ï¼šJetBrains Toolboxã€Spotlightã€Raycast

**å¸ƒå±€ç»“æ„**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¦ æœ€è¿‘é¡¹ç›®                    Ã— æœ€å°åŒ– â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” å¿«é€Ÿæœç´¢...                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¸ æˆ‘çš„å¾…åŠé¡¹ç›®             (3ä¸ªé¡¹ç›®)   â”‚
â”‚ â–¸ å·¥ä½œç›¸å…³                 (5ä¸ªé¡¹ç›®)   â”‚
â”‚ â–¸ ä¸ªäººé¡¹ç›®                 (2ä¸ªé¡¹ç›®)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¦€ rust-manager            [â–¶ï¸] [VSCode]â”‚
â”‚ ğŸ“¦ node-app-api            [â–¶ï¸] [Cursor]â”‚
â”‚ ğŸ python-ml-tool          [â–¶ï¸] [PyCharm]â”‚
â”‚ ğŸ¦€ another-rust-project    [â–¶ï¸] [Neovim]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âš™ï¸ è®¾ç½®]  [ğŸ”„ åˆ·æ–°]  [â• æ‰“å¼€ä¸»çª—å£]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**çª—å£ç‰¹æ€§**ï¼š
- å°ºå¯¸ï¼š360Ã—480ï¼ˆå›ºå®šå¤§å°ï¼Œä¸å¯è°ƒæ•´ï¼‰
- ä½ç½®ï¼šå±å¹•å³ä¸‹è§’ï¼ˆå¯è®°ä½ç”¨æˆ·æ‹–æ‹½ä½ç½®ï¼‰
- å§‹ç»ˆç½®é¡¶ï¼ˆalways on topï¼‰
- ç‚¹å‡»å¤–éƒ¨è‡ªåŠ¨éšè—ï¼ˆå¯é…ç½®ï¼‰
- ä»ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ç‚¹å‡»å”¤å‡º

**æ ¸å¿ƒç»„ä»¶**ï¼š

1. **ç´§å‡‘é¡¹ç›®åˆ—è¡¨**
   - å•è¡Œæ˜¾ç¤ºï¼Œé«˜åº¦ 40-48px
   - ç±»å‹å›¾æ ‡ + é¡¹ç›®å + IDEå¿«æ·å¯åŠ¨
   - æ‚¬åœé«˜äº®ï¼Œç‚¹å‡»å¯åŠ¨é»˜è®¤IDE
   - å³é”®èœå•æ˜¾ç¤ºæ‰€æœ‰å¯é€‰IDE

2. **å¿«é€Ÿæœç´¢**
   - èšç„¦æ—¶è‡ªåŠ¨æ˜¾ç¤º
   - æ¨¡ç³ŠåŒ¹é…é¡¹ç›®åã€æ ‡ç­¾ã€è·¯å¾„
   - æ”¯æŒå¿«æ·é”®å¯¼èˆªï¼ˆâ†‘â†“ Enterï¼‰

3. **åˆ†ç»„æŠ˜å **
   - æŒ‰æ ‡ç­¾/ç±»å‹è‡ªåŠ¨åˆ†ç»„
   - å¯æŠ˜å /å±•å¼€
   - æ˜¾ç¤ºé¡¹ç›®æ•°é‡

4. **åº•éƒ¨æ“ä½œæ **
   - è®¾ç½®ï¼ˆæ‰“å¼€ä¸»çª—å£è®¾ç½®é¡µï¼‰
   - åˆ·æ–°ï¼ˆé‡æ–°æ‰«æIDEå’Œé¡¹ç›®ï¼‰
   - æ‰“å¼€ä¸»çª—å£

---

### æ‰˜ç›˜åŠŸèƒ½

**ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡**ï¼š
- å›¾æ ‡ï¼šåº”ç”¨ Logoï¼ˆå½©è‰²/å•è‰²æ ¹æ®ä¸»é¢˜ï¼‰
- å³é”®èœå•ï¼š
  ```
  æ‰“å¼€è¿·ä½ çª—å£
  æ‰“å¼€ä¸»çª—å£
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  æœ€è¿‘é¡¹ç›®
    â”œâ”€â”€ ğŸ¦€ rust-manager
    â”œâ”€â”€ ğŸ“¦ node-app-api
    â””â”€â”€ ğŸ python-ml-tool
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  å…¨å±€å¿«æ·é”®: Ctrl+Shift+P
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  è®¾ç½®
  é€€å‡º
  ```

**æ‰˜ç›˜äº¤äº’**ï¼š
- å·¦é”®å•å‡»ï¼šæ˜¾ç¤º/éšè—è¿·ä½ çª—å£
- å·¦é”®åŒå‡»ï¼šæ‰“å¼€ä¸»çª—å£
- å³é”®å•å‡»ï¼šæ˜¾ç¤ºèœå•

---

### è§†è§‰ç»†èŠ‚

**åŠ¨ç”»æ•ˆæœ**ï¼š
```css
/* å¡ç‰‡æ‚¬åœ */
.project-card {
  transition: all 0.2s ease-out;
}
.project-card:hover {
  transform: translateY(-2px) scale(1.01);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

/* æŒ‰é’®ç‚¹å‡» */
.button:active {
  transform: scale(0.95);
}

/* åˆ—è¡¨é¡¹æ»‘å…¥ */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
```

**ç±»å‹æ ‡ç­¾é…è‰²**ï¼š
```javascript
const typeColors = {
  Rust: 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)',
  Nodejs: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',
  Python: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',
  Java: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',
  Go: 'linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)',
  Generic: 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',
};
```

**æš—è‰²ä¸»é¢˜é€‚é…**ï¼š
- èƒŒæ™¯æ·±ç°ï¼ˆ`#1f2937`ï¼‰è€Œéçº¯é»‘
- æ–‡å­—å¯¹æ¯”åº¦ä¿æŒ AAA çº§
- æ¸å˜è‰²é€‚å½“æé«˜äº®åº¦
- æŠ•å½±ä½¿ç”¨æµ…è‰²ï¼ˆ`rgba(255,255,255,0.05)`ï¼‰

## æŠ€æœ¯å®ç°å…³é”®ç‚¹

1. **è¿›ç¨‹å¯åŠ¨**ï¼šä½¿ç”¨ Rust `std::process::Command`ï¼Œæ”¯æŒå¼‚æ­¥å¯åŠ¨ï¼ˆtokioï¼‰
2. **æ–‡ä»¶ç›‘å¬**ï¼š`notify` crate ç›‘å¬é¡¹ç›®ç›®å½•ï¼Œè‡ªåŠ¨æ›´æ–°çŠ¶æ€
3. **å¿«æ·é”®**ï¼šä½¿ç”¨ Tauri å…¨å±€å¿«æ·é”® APIï¼ˆtauri-plugin-global-shortcutï¼‰
4. **å•å®ä¾‹è¿è¡Œ**ï¼šä½¿ç”¨ Tauri å•å®ä¾‹é”ï¼ˆtauri-plugin-single-instanceï¼‰
5. **è‡ªåŠ¨æ›´æ–°**ï¼šä½¿ç”¨ Tauri å†…ç½®æ›´æ–°å™¨ï¼ˆtauri-plugin-updaterï¼‰

---

# IDEå‘ç°ä¸æ‰©å±•æœºåˆ¶

## IDEè‡ªåŠ¨å‘ç°

### Windowså¹³å°æ£€æµ‹ç­–ç•¥

| IDEç±»å‹ | æ£€æµ‹æ–¹å¼ | ç¤ºä¾‹è·¯å¾„/å‘½ä»¤ |
|---------|---------|--------------|
| **VSCode** | æ³¨å†Œè¡¨ + PATH | `code` å‘½ä»¤æˆ– `%USERPROFILE%\.vscode\` |
| **Cursor** | æ³¨å†Œè¡¨ + AppData | `%LOCALAPPDATA%\Programs\cursor\` |
| **Windsurf** | æ³¨å†Œè¡¨ + AppData | `%LOCALAPPDATA%\Programs\Windsurf\` |
| **IntelliJ** | æ³¨å†Œè¡¨ (JetBrains ToolBox) | `%APPDATA%\JetBrains\Toolbox\` |
| **Neovim** | PATH å‘½ä»¤ | `nvim --version` |
| **Helix** | PATH å‘½ä»¤ | `hx --version` |
| **Lazygit** | PATH å‘½ä»¤ | `lazygit --version` |
| **Vim** | PATH å‘½ä»¤ | `vim --version` |
| **Windows Terminal** | æ³¨å†Œè¡¨ + Microsoft Store | `wt.exe` |
| **WezTerm** | PATH + AppData | `%LOCALAPPDATA%\Programs\WezTerm\` |

**Rust Crates ä¾èµ–ï¼š**
- `winreg`ï¼šWindows æ³¨å†Œè¡¨æŸ¥è¯¢
- `which`ï¼šPATH å‘½ä»¤æŸ¥æ‰¾ï¼ˆRust ç‰ˆæœ¬ï¼‰
- `fs` & `path`ï¼šæ–‡ä»¶ç³»ç»Ÿæ“ä½œ

### æ£€æµ‹å®ç°æµç¨‹

```rust
// IDEå‘ç°æµç¨‹ï¼ˆRuståç«¯ï¼‰
use tauri::command;

#[tauri::command]
async fn discover_ides() -> Result<Vec<IdeConfig>, String> {
    let mut discovered = Vec::new();

    for rule in BUILT_IN_IDE_RULES.iter() {
        if let Some(config) = try_detect_ide(rule).await {
            discovered.push(config);
        }
    }

    // ç”¨æˆ·è‡ªå®šä¹‰IDEä¹Ÿä¼šè¢«åŠ è½½
    discovered.extend(load_custom_ides()?);

    Ok(discovered)
}

async fn try_detect_ide(rule: &IdeDiscoveryRule) -> Option<IdeConfig> {
    for detector in &rule.detectors {
        match detector {
            IdeDetector::Registry { path, value_name } => {
                if let Ok(exe_path) = query_registry(path, value_name) {
                    return Some(build_config(rule, exe_path));
                }
            }
            IdeDetector::PathCommand { command } => {
                if let Ok(path) = which::which(command) {
                    return Some(build_config(rule, path.to_string_lossy().to_string()));
                }
            }
            IdeDetector::CommonPaths { paths } => {
                for p in paths {
                    if std::path::Path::new(p).exists() {
                        return Some(build_config(rule, p.clone()));
                    }
                }
            }
            // ... å…¶ä»–æ£€æµ‹æ–¹å¼
        }
    }
    None
}
```

## å†…ç½®IDEè§„åˆ™åº“

```rust
// å¸¸è§IDEçš„é¢„è®¾è§„åˆ™
use std::path::PathBuf;

const BUILT_IN_IDE_RULES: &[IdeDiscoveryRule] = &[
    IdeDiscoveryRule {
        id: "vscode",
        name: "Visual Studio Code",
        category: IdeCategory::GUI,
        detectors: &[
            IdeDetector::Registry {
                path: r"SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\Code.exe",
                value_name: "",
            },
            IdeDetector::PathCommand { command: "code" },
            IdeDetector::CommonPaths {
                paths: &[
                    // Windows å¸¸è§è·¯å¾„
                    r"C:\Users\{user}\AppData\Local\Programs\Microsoft VS Code\Code.exe",
                    r"C:\Program Files\Microsoft VS Code\Code.exe",
                ],
            },
        ],
        default_args: "{project_path}",
    },
    IdeDiscoveryRule {
        id: "cursor",
        name: "Cursor Editor",
        category: IdeCategory::GUI,
        detectors: &[
            IdeDetector::PathCommand { command: "cursor" },
            IdeDetector::CommonPaths {
                paths: &[
                    r"C:\Users\{user}\AppData\Local\Programs\cursor\Cursor.exe",
                ],
            },
        ],
        default_args: "{project_path}",
    },
    IdeDiscoveryRule {
        id: "nvim",
        name: "Neovim",
        category: IdeCategory::CLI,
        detectors: &[
            IdeDetector::PathCommand { command: "nvim" },
        ],
        default_args: "cd {project_path} && nvim .",
    },
    IdeDiscoveryRule {
        id: "lazygit",
        name: "Lazygit",
        category: IdeCategory::Terminal,
        detectors: &[
            IdeDetector::PathCommand { command: "lazygit" },
        ],
        default_args: "cd {project_path} && lazygit",
    },
    // ... æ›´å¤šé¢„è®¾è§„åˆ™
];
```

## CLIå·¥å…·çš„ç‰¹æ®Šå¤„ç†

### ç»ˆç«¯å‹IDEå¯åŠ¨ç­–ç•¥

CLIå·¥å…·ï¼ˆå¦‚ `nvim`ã€`hx`ã€`lazygit`ï¼‰éœ€è¦é€šè¿‡ç»ˆç«¯å¯åŠ¨ï¼Œæ”¯æŒä»¥ä¸‹ç­–ç•¥ï¼š

| ç­–ç•¥ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| **Windows Terminal** | ä½¿ç”¨ `wt.exe` æ‰“å¼€æ–°æ ‡ç­¾ | `wt -d {project_path} nvim` |
| **WezTerm** | ä½¿ç”¨ `wezterm cli` | `wezterm cli split-pane -- {cmd}` |
| **Conhost** | ä¼ ç»Ÿ cmd æ§åˆ¶å° | `cmd /c "cd {project_path} && nvim"` |
| **è‡ªå®šä¹‰** | ç”¨æˆ·æŒ‡å®šçš„ç»ˆç«¯ç¨‹åº | ç”¨æˆ·é…ç½® |

### å‚æ•°æ¨¡æ¿å˜é‡

å¯åŠ¨å‚æ•°æ”¯æŒä»¥ä¸‹å˜é‡å ä½ç¬¦ï¼š

| å˜é‡ | æè¿° | ç¤ºä¾‹å€¼ |
|------|------|--------|
| `{project_path}` | é¡¹ç›®ç»å¯¹è·¯å¾„ | `E:\dev\my-project` |
| `{project_name}` | é¡¹ç›®åç§° | `my-project` |
| `{ide_executable}` | IDEå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ | `C:\Program Files\Neovim\nvim.exe` |
| `{line_number}` | è¡Œå·ï¼ˆå¯é€‰ï¼Œç”¨äºè·³è½¬ï¼‰ | `42` |

### é…ç½®ç¤ºä¾‹

```json
// IDEé…ç½®ç¤ºä¾‹
{
  "ides": [
    {
      "id": "my-nvim",
      "name": "Neovim (WT)",
      "category": "CLI",
      "executable": "nvim",
      "args_template": "wt -d {project_path} nvim",
      "terminal": "windows_terminal"
    },
    {
      "id": "my-lazygit",
      "name": "Lazygit",
      "category": "Terminal",
      "executable": "lazygit",
      "args_template": "wt -d {project_path} -- lazygit"
    },
    {
      "id": "custom-tool",
      "name": "My Custom Tool",
      "category": "GUI",
      "executable": "E:\\tools\\my-tool.exe",
      "args_template": "--project {project_path} --name {project_name}"
    }
  ]
}
```

## ç”¨æˆ·è‡ªå®šä¹‰IDEæ‰©å±•

### é…ç½®æ–‡ä»¶æ–¹å¼

ç”¨æˆ·å¯é€šè¿‡é…ç½®æ–‡ä»¶æ·»åŠ è‡ªå®šä¹‰IDEï¼š

```toml
# ides.toml
[[custom_ides]]
name = "My IDE"
category = "GUI"
executable = "C:\\Tools\\my-ide.exe"
args = "--open {project_path}"
icon = "my-ide-icon"

[[custom_ides]]
name = "Zed Editor"
category = "GUI"
# ä½¿ç”¨è‡ªåŠ¨æ£€æµ‹
auto_detect = "zed"
args = "{project_path}"
```

### UIç•Œé¢æ–¹å¼

æä¾›"æ·»åŠ IDE"ç•Œé¢ï¼š
1. **æµè§ˆ**ï¼šé€‰æ‹©å¯æ‰§è¡Œæ–‡ä»¶
2. **å‘½å**ï¼šè¾“å…¥æ˜¾ç¤ºåç§°
3. **åˆ†ç±»**ï¼šé€‰æ‹©GUI/CLI/Terminal
4. **å‚æ•°æ¨¡æ¿**ï¼šé…ç½®å¯åŠ¨å‚æ•°ï¼ˆå¸¦å˜é‡æç¤ºï¼‰
5. **æµ‹è¯•**ï¼šæµ‹è¯•æ˜¯å¦èƒ½æˆåŠŸå¯åŠ¨

## é¡¹ç›®-IDEå…³è”ç­–ç•¥

### é»˜è®¤IDEé€‰æ‹©

é¡¹ç›®é¦–æ¬¡æ·»åŠ æ—¶ï¼Œæ ¹æ®é¡¹ç›®ç±»å‹æ¨èé»˜è®¤IDEï¼š

| é¡¹ç›®ç±»å‹ | æ¨èIDE |
|---------|---------|
| Rust (Cargo.toml) | VSCode, Cursor, Neovim |
| Node.js (package.json) | VSCode, Cursor, WebStorm |
| Python (requirements.txt/pyproject.toml) | VSCode, PyCharm, Neovim |
| Java | IntelliJ IDEA, VSCode |
| Go | VSCode, GoLand, Neovim |
| Generic | VSCode |

### IDEä¼˜å…ˆçº§è§„åˆ™

1. **ç”¨æˆ·æ˜¾å¼è®¾ç½®** > é¡¹ç›®ç±»å‹æ¨è > å…¨å±€é»˜è®¤
2. **å·²å®‰è£…çš„IDE** > æœªå®‰è£…çš„IDE
3. **æœ€è¿‘ä½¿ç”¨** ä¼˜å…ˆçº§æå‡


# å¼€å‘è®¡åˆ’

## é˜¶æ®µæ¦‚è§ˆ

| é˜¶æ®µ | æ—¶é—´ | æ ¸å¿ƒç›®æ ‡ | ä¼˜å…ˆçº§ |
|------|------|----------|--------|
| **Phase 1** | 2å¤© | é¡¹ç›®æ­å»º + æ ¸å¿ƒæ•°æ® + åŸºç¡€UI | P0 |
| **Phase 2** | 2å¤© | IDEå‘ç° + è¿›ç¨‹å¯åŠ¨ + åŒçª—å£ | P0-P1 |
| **Phase 3** | 1å¤© | æœç´¢è¿‡æ»¤ + UIç¾åŒ– + ä¸»é¢˜ | P1-P2 |
| **Phase 4** | 1å¤© | æ‰“åŒ…ä¼˜åŒ– + æµ‹è¯• + æ–‡æ¡£ | P2-P3 |

---

## Phase 1ï¼šåŸºç¡€æ¡†æ¶æ­å»ºï¼ˆ2å¤©ï¼‰

### Day 1 ä¸Šåˆï¼šé¡¹ç›®åˆå§‹åŒ–

**ç¯å¢ƒå‡†å¤‡**
```bash
# 1. åˆ›å»º Tauri + Vue é¡¹ç›®
npm create tauri-app@latest
# é…ç½®é€‰æ‹©ï¼š
# - Project name: project-manager
# - Frontend: Vue (TypeScript)
# - Package manager: pnpmï¼ˆæ¨èï¼‰

# 2. å®‰è£…å‰ç«¯ä¾èµ–
cd project-manager
pnpm install
pnpm add element-plus @element-plus/icons-vue
pnpm add pinia
pnpm add -D unocss
```

**Tauri é…ç½®**
- ç¼–è¾‘ `src-tauri/Cargo.toml`ï¼šæ·»åŠ  Rust ä¾èµ–
- ç¼–è¾‘ `src-tauri/tauri.conf.json`ï¼šé…ç½®åŒçª—å£
- ç¼–è¾‘ `src-tauri/src/lib.rs`ï¼šè®¾ç½®æ’ä»¶å’Œå‘½ä»¤

**é¡¹ç›®ç»“æ„**
```
project-manager/
â”œâ”€â”€ src-tauri/              # Rust åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ commands/       # Tauri å‘½ä»¤
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ project.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ ide.rs
â”‚   â”‚   â”‚   â””â”€â”€ process.rs
â”‚   â”‚   â”œâ”€â”€ db/             # æ•°æ®åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â””â”€â”€ models.rs
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â””â”€â”€ detector.rs
â”‚   â”‚   â””â”€â”€ lib.rs
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ tauri.conf.json
â”œâ”€â”€ src/                    # Vue å‰ç«¯
â”‚   â”œâ”€â”€ api/                # Tauri API å°è£…
â”‚   â”œâ”€â”€ components/         # UI ç»„ä»¶
â”‚   â”œâ”€â”€ composables/        # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ stores/             # Pinia stores
â”‚   â”œâ”€â”€ styles/             # æ ·å¼
â”‚   â”œâ”€â”€ views/              # é¡µé¢
â”‚   â”œâ”€â”€ App.vue
â”‚   â””â”€â”€ main.ts
â””â”€â”€ uno.config.js           # UnoCSS é…ç½®
```

### Day 1 ä¸‹åˆï¼šæ•°æ®å±‚å®ç°

**1. å®šä¹‰æ•°æ®æ¨¡å‹**

Rust åç«¯ (`src-tauri/src/db/models.rs`):
```rust
use serde::{Deserialize, Serialize};

#[derive(Debug, Serialize, Deserialize, Clone)]
pub struct Project {
    pub id: String,
    pub name: String,
    pub path: String,
    pub project_type: ProjectType,
    pub favorite: bool,
    pub tags: Vec<String>,
    pub last_opened: Option<String>,
    pub created_at: String,
    pub metadata: ProjectMetadata,
}

#[derive(Debug, Serialize, Deserialize, Clone)]
#[serde(rename_all = "camelCase")]
pub enum ProjectType {
    Rust,
    Nodejs,
    Python,
    Java,
    Go,
    Dotnet,
    Generic,
}

#[derive(Debug, Serialize, Deserialize, Clone)]
pub struct IdeConfig {
    pub id: String,
    pub name: String,
    pub executable: String,
    pub args_template: String,
    pub category: IdeCategory,
    pub priority: i32,
    pub auto_detected: bool,
}
```

å‰ç«¯ TypeScript (`src/api/types.ts`):
```typescript
export interface Project {
  id: string;
  name: string;
  path: string;
  projectType: ProjectType;
  favorite: boolean;
  tags: string[];
  lastOpened: string | null;
  createdAt: string;
  metadata: ProjectMetadata;
}

export enum ProjectType {
  Rust = 'Rust',
  Nodejs = 'Nodejs',
  Python = 'Python',
  Java = 'Java',
  Go = 'Go',
  Dotnet = 'Dotnet',
  Generic = 'Generic',
}
```

**2. æ•°æ®åº“åˆå§‹åŒ–**

```rust
// src-tauri/src/db/mod.rs
use rusqlite::{Connection, Result};
use std::path::PathBuf;

pub fn get_db_path() -> PathBuf {
    dirs::config_dir()
        .unwrap()
        .join("project-manager")
        .join("projects.db")
}

pub fn init_db() -> Result<Connection> {
    let db_path = get_db_path();
    let parent = db_path.parent().unwrap();
    std::fs::create_dir_all(parent).unwrap();

    let conn = Connection::open(&db_path)?;

    // åˆ›å»ºè¡¨
    conn.execute(
        "CREATE TABLE IF NOT EXISTS projects (
            id TEXT PRIMARY KEY,
            name TEXT NOT NULL,
            path TEXT NOT NULL UNIQUE,
            project_type TEXT NOT NULL,
            favorite INTEGER DEFAULT 0,
            tags TEXT,
            last_opened TEXT,
            created_at TEXT NOT NULL,
            metadata TEXT
        )",
        [],
    )?;

    Ok(conn)
}
```

**3. Tauri Commands**

```rust
// src-tauri/src/commands/project.rs
use tauri::command;

#[command]
pub async fn list_projects() -> Result<Vec<Project>, String> {
    let conn = crate::db::init_db().map_err(|e| e.to_string())?;
    // æŸ¥è¯¢é€»è¾‘
    Ok(projects)
}

#[command]
pub async fn add_project(path: String) -> Result<Project, String> {
    // æ·»åŠ é€»è¾‘
}

#[command]
pub async fn remove_project(id: String) -> Result<(), String> {
    // åˆ é™¤é€»è¾‘
}
```

### Day 2 ä¸Šåˆï¼šä¸»çª—å£UI

**1. ä¸»çª—å£å¸ƒå±€**

`src/views/MainView.vue`:
```vue
<script setup lang="ts">
import { ref, computed } from 'vue';
import { invoke } from '@tauri-apps/api/core';
import type { Project } from '@/api/types';

const projects = ref<Project[]>([]);
const searchQuery = ref('');

onMounted(async () => {
  projects.value = await invoke('list_projects');
});

const filteredProjects = computed(() => {
  if (!searchQuery.value) return projects.value;
  return projects.value.filter(p =>
    p.name.toLowerCase().includes(searchQuery.value.toLowerCase())
  );
});
</script>

<template>
  <div class="main-view">
    <header class="top-bar">
      <el-input
        v-model="searchQuery"
        placeholder="æœç´¢é¡¹ç›®..."
        prefix-icon="Search"
        class="search-input"
      />
      <el-button type="primary" :icon="Plus">æ·»åŠ é¡¹ç›®</el-button>
    </header>

    <main class="project-grid">
      <ProjectCard
        v-for="project in filteredProjects"
        :key="project.id"
        :project="project"
      />
    </main>
  </div>
</template>

<style scoped>
.project-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 16px;
  padding: 16px;
}
</style>
```

**2. é¡¹ç›®å¡ç‰‡ç»„ä»¶**

`src/components/ProjectCard.vue`:
```vue
<script setup lang="ts">
import { computed } from 'vue';
import type { Project } from '@/api/types';

const props = defineProps<{ project: Project }>();

const typeGradient = computed(() => {
  const gradients = {
    Rust: 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)',
    Nodejs: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',
    Python: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',
    Java: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',
    Go: 'linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)',
    Generic: 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',
  };
  return gradients[props.project.projectType] || gradients.Generic;
});
</script>

<template>
  <div class="project-card">
    <div class="card-header">
      <el-tag :style="{ background: typeGradient }" effect="dark">
        {{ project.projectType }}
      </el-tag>
      <el-icon class="star-icon" :class="{ active: project.favorite }">
        <StarFilled />
      </el-icon>
    </div>

    <h3 class="project-name">{{ project.name }}</h3>
    <p class="project-path">{{ project.path }}</p>

    <div class="tags" v-if="project.tags.length">
      <el-tag
        v-for="tag in project.tags"
        :key="tag"
        size="small"
        type="info"
      >
        {{ tag }}
      </el-tag>
    </div>

    <div class="card-actions">
      <el-button type="primary" size="small">å¯åŠ¨</el-button>
      <el-button size="small" :icon="Folder">æ–‡ä»¶å¤¹</el-button>
      <el-dropdown>
        <el-button size="small" :icon="More" circle />
      </el-dropdown>
    </div>
  </div>
</template>

<style scoped>
.project-card {
  background: var(--el-bg-color);
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  transition: all 0.2s ease-out;
}

.project-card:hover {
  transform: translateY(-2px) scale(1.01);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}
</style>
```

### Day 2 ä¸‹åˆï¼šåŒçª—å£é…ç½®

**1. Tauri çª—å£é…ç½®**

`src-tauri/tauri.conf.json`:
```json
{
  "app": {
    "windows": [
      {
        "label": "main",
        "title": "Project Manager",
        "width": 1200,
        "height": 800,
        "minWidth": 900,
        "minHeight": 600,
        "resizable": true,
        "center": true
      },
      {
        "label": "mini",
        "title": "Quick Access",
        "width": 360,
        "height": 480,
        "resizable": false,
        "alwaysOnTop": true,
        "skipTaskbar": true,
        "decorations": false,
        "transparent": true,
        "visible": false
      }
    ]
  }
}
```

**2. è¿·ä½ çª—å£ç»„ä»¶**

`src/views/MiniView.vue`:
```vue
<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { getCurrentWebviewWindow } from '@tauri-apps/api/window';

const miniWindow = getCurrentWebviewWindow();

onMounted(async () => {
  // æ¢å¤çª—å£ä½ç½®
  const pos = await invoke('load_mini_window_position');
  if (pos) {
    await miniWindow.setPosition({ x: pos.x, y: pos.y });
  }
});

// ç›‘å¬ç§»åŠ¨äº‹ä»¶
miniWindow.onMoved(({ x, y }) => {
  invoke('save_mini_window_position', { x, y });
});
</script>

<template>
  <div class="mini-view">
    <header class="mini-header">
      <span>ğŸ“¦ æœ€è¿‘é¡¹ç›®</span>
      <el-icon @click="miniWindow.hide()">
        <Close />
      </el-icon>
    </header>

    <div class="search-box">
      <el-input placeholder="å¿«é€Ÿæœç´¢..." prefix-icon="Search" />
    </div>

    <div class="project-list">
      <div
        v-for="project in recentProjects"
        :key="project.id"
        class="project-item"
      >
        <span class="type-icon">{{ getTypeIcon(project.projectType) }}</span>
        <span class="project-name">{{ project.name }}</span>
        <el-button size="small" text>å¯åŠ¨</el-button>
      </div>
    </div>

    <footer class="mini-footer">
      <el-button text>âš™ï¸ è®¾ç½®</el-button>
      <el-button text>â• ä¸»çª—å£</el-button>
    </footer>
  </div>
</template>

<style scoped>
.mini-view {
  width: 360px;
  height: 480px;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
}

.project-item {
  height: 44px;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 12px;
  cursor: pointer;
  transition: background 0.15s;
}

.project-item:hover {
  background: rgba(99, 102, 241, 0.1);
}
</style>
```

---

## Phase 2ï¼šæ ¸å¿ƒåŠŸèƒ½å®ç°ï¼ˆ2å¤©ï¼‰

### Day 3ï¼šIDEå‘ç° + è¿›ç¨‹å¯åŠ¨

**ä¸Šåˆï¼šIDEè‡ªåŠ¨å‘ç°**

```rust
// src-tauri/src/utils/detector.rs
use winreg::RegKey;
use winreg::enums::HKEY_LOCAL_MACHINE;

pub fn discover_ides() -> Vec<IdeConfig> {
    let mut discovered = Vec::new();

    // VSCode æ£€æµ‹
    if let Ok(path) = query_registry(
        r"SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\Code.exe"
    ) {
        discovered.push(IdeConfig {
            id: "vscode".to_string(),
            name: "Visual Studio Code".to_string(),
            executable: path,
            category: IdeCategory::GUI,
            priority: 100,
            auto_detected: true,
        });
    }

    // Cursor æ£€æµ‹
    if let Ok(path) = which::which("cursor") {
        discovered.push(/* ... */);
    }

    // Neovim æ£€æµ‹
    if let Ok(path) = which::which("nvim") {
        discovered.push(IdeConfig {
            id: "nvim".to_string(),
            name: "Neovim".to_string(),
            executable: path.to_string_lossy().to_string(),
            category: IdeCategory::CLI,
            priority: 50,
            auto_detected: true,
        });
    }

    discovered
}
```

**ä¸‹åˆï¼šè¿›ç¨‹å¯åŠ¨**

```rust
// src-tauri/src/commands/process.rs
use std::process::Command;

#[tauri::command]
pub async fn launch_project(project_id: String, ide_id: String) -> Result<(), String> {
    // 1. è·å–é¡¹ç›®å’ŒIDEé…ç½®
    let project = get_project(&project_id)?;
    let ide = get_ide(&ide_id)?;

    // 2. æ„å»ºå‘½ä»¤
    let args = expand_args_template(&ide.args_template, &project);

    // 3. å¯åŠ¨è¿›ç¨‹
    match ide.category {
        IdeCategory::GUI => {
            Command::new(&ide.executable)
                .args(&args)
                .spawn()
                .map_err(|e| e.to_string())?;
        }
        IdeCategory::CLI => {
            // éœ€è¦ç»ˆç«¯åŒ…è£…
            launch_with_terminal(&ide.executable, &args, &project.path).await?;
        }
        _ => {}
    }

    // 4. æ›´æ–°æœ€åæ‰“å¼€æ—¶é—´
    update_last_opened(&project_id)?;

    Ok(())
}

async fn launch_with_terminal(
    executable: &str,
    args: &[String],
    project_path: &str,
) -> Result<(), String> {
    // Windows Terminal åŒ…è£…
    Command::new("wt")
        .args(["-d", project_path, executable])
        .args(args)
        .spawn()
        .map_err(|e| e.to_string())?;

    Ok(())
}
```

### Day 4ï¼šæ‰˜ç›˜ + å…¨å±€å¿«æ·é”®

**ä¸Šåˆï¼šç³»ç»Ÿæ‰˜ç›˜**

```rust
// src-tauri/src/tray.rs
use tauri::{AppHandle, Manager};
use tauri::menu::{Menu, MenuItem};

pub fn create_tray(app: &AppHandle) -> tauri::Result<()> {
    let open_mini = MenuItem::with_id(app, "open-mini", "æ‰“å¼€è¿·ä½ çª—å£", true, None::<&str>)?;
    let open_main = MenuItem::with_id(app, "open-main", "æ‰“å¼€ä¸»çª—å£", true, None::<&str>)?;
    let quit = MenuItem::with_id(app, "quit", "é€€å‡º", true, None::<&str>)?;

    let menu = Menu::with_items(app, &[&open_mini, &open_main, &quit])?;

    let _tray = tauri::tray::TrayIconBuilder::new()
        .icon(app.default_window_icon().unwrap().clone())
        .menu(&menu)
        .on_menu_event(move |app, event| {
            match event.id.as_ref() {
                "open-mini" => {
                    let mini = app.get_webview_window("mini").unwrap();
                    mini.show().unwrap();
                    mini.set_focus().unwrap();
                }
                "open-main" => {
                    let main = app.get_webview_window("main").unwrap();
                    main.show().unwrap();
                    main.set_focus().unwrap();
                }
                "quit" => app.exit(0),
                _ => {}
            }
        })
        .build(app)?;

    Ok(())
}
```

**ä¸‹åˆï¼šå…¨å±€å¿«æ·é”®**

```rust
// src-tauri/src/shortcuts.rs
use tauri_plugin_global_shortcut::{GlobalShortcutExt, Code, Modifiers, Shortcut};

pub fn register_global_shortcuts(app: &tauri::AppHandle) -> tauri::Result<()> {
    let shortcut = Shortcut::new(Some(Modifiers::CONTROL | Modifiers::SHIFT), Code::KeyP);

    app.global_shortcut().on_shortcut(shortcut, move |_app, _shortcut, _event| {
        let mini = _app.get_webview_window("mini").unwrap();
        if mini.is_visible().unwrap() {
            mini.hide().unwrap();
        } else {
            mini.show().unwrap();
            mini.set_focus().unwrap();
        }
    })?;

    Ok(())
}
```

---

## Phase 3ï¼šUIä¼˜åŒ–ï¼ˆ1å¤©ï¼‰

### Day 5ï¼šæœç´¢è¿‡æ»¤ + ä¸»é¢˜

**ä¸Šåˆï¼šæœç´¢è¿‡æ»¤**

```typescript
// src/composables/useProjectFilter.ts
import { ref, computed } from 'vue';
import type { Project, ProjectType } from '@/api/types';

export function useProjectFilter(projects: Ref<Project[]>) {
  const searchQuery = ref('');
  const selectedType = ref<ProjectType | null>(null);
  const favoritesOnly = ref(false);

  const filteredProjects = computed(() => {
    return projects.value.filter(p => {
      // æœç´¢è¿‡æ»¤
      if (searchQuery.value) {
        const query = searchQuery.value.toLowerCase();
        const matchName = p.name.toLowerCase().includes(query);
        const matchTags = p.tags.some(t => t.toLowerCase().includes(query));
        if (!matchName && !matchTags) return false;
      }

      // ç±»å‹è¿‡æ»¤
      if (selectedType.value && p.projectType !== selectedType.value) {
        return false;
      }

      // æ”¶è—è¿‡æ»¤
      if (favoritesOnly.value && !p.favorite) {
        return false;
      }

      return true;
    });
  });

  return {
    searchQuery,
    selectedType,
    favoritesOnly,
    filteredProjects,
  };
}
```

**ä¸‹åˆï¼šæ·±è‰²ä¸»é¢˜**

```typescript
// src/composables/useTheme.ts
import { ref, watch } from 'vue';
import { appWindow } from '@tauri-apps/api/window';

export function useTheme() {
  const isDark = ref(false);

  onMounted(async () => {
    // è¯»å–ç³»ç»Ÿä¸»é¢˜
    const theme = await appWindow.theme();
    isDark.value = theme === 'dark';

    // ç›‘å¬ä¸»é¢˜å˜åŒ–
    const unlisten = await appWindow.onThemeChanged(({ payload }) => {
      isDark.value = payload === 'dark';
    });
  });

  watch(isDark, (val) => {
    document.documentElement.classList.toggle('dark', val);
  }, { immediate: true });

  return { isDark, toggleTheme: () => isDark.value = !isDark.value };
}
```

---

## Phase 4ï¼šæ‰“åŒ…å‘å¸ƒï¼ˆ1å¤©ï¼‰

### Day 6ï¼šæ‰“åŒ… + æµ‹è¯•

**1. æ„å»ºé…ç½®**

```json
// src-tauri/tauri.conf.json
{
  "bundle": {
    "active": true,
    "targets": ["nsis"],
    "icon": ["icons/icon.ico"],
    "copyright": "",
    "category": "Developer Tool",
    "shortDescription": "Project Manager",
    "longDescription": "A lightweight tool to manage your development projects"
  }
}
```

**2. æ‰“åŒ…å‘½ä»¤**

```bash
# å¼€å‘æ„å»º
pnpm tauri dev

# ç”Ÿäº§æ„å»º
pnpm tauri build

# è¾“å‡ºä½ç½®
# src-tauri/target/release/project-manager.exe
# src-tauri/target/release/bundle/nsis/project-manager_0.1.0_x64-setup.exe
```

**3. æµ‹è¯•æ¸…å•**

- [ ] ä¸»çª—å£æ­£å¸¸æ˜¾ç¤º
- [ ] è¿·ä½ çª—å£å³ä¸‹è§’å®šä½
- [ ] æ‰˜ç›˜å›¾æ ‡å’Œèœå•
- [ ] é¡¹ç›®æ·»åŠ /åˆ é™¤
- [ ] IDEå¯åŠ¨ï¼ˆGUI/CLIï¼‰
- [ ] æœç´¢è¿‡æ»¤
- [ ] æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
- [ ] å…¨å±€å¿«æ·é”®
- [ ] å®‰è£…åŒ…å®‰è£…/å¸è½½

---

## ä¼˜å…ˆçº§å¯¹ç…§è¡¨

| P0 | æ ¸å¿ƒåŠŸèƒ½ | Phase 1 |
|----|----------|---------|
| P0 | IDEæ‰‹åŠ¨é…ç½® | Phase 2 |
| P0 | è¿›ç¨‹å¯åŠ¨ | Phase 2 |
| P0 | ä¸»çª—å£UI | Phase 1 |
| P1 | è¿·ä½ çª—å£+æ‰˜ç›˜ | Phase 1 |
| P1 | IDEè‡ªåŠ¨å‘ç° | Phase 2 |
| P1 | æœç´¢è¿‡æ»¤ | Phase 3 |
| P2 | å…¨å±€å¿«æ·é”® | Phase 2 |
| P2 | CLIç»ˆç«¯åŒ…è£… | Phase 2 |
| P3 | æ·±è‰²ä¸»é¢˜ | Phase 3 |
| P3 | UIåŠ¨ç”» | Phase 3 |

---

## åŒçª—å£æŠ€æœ¯å®ç°

### Tauri å¤šçª—å£é…ç½®

**tauri.conf.json çª—å£é…ç½®**ï¼š
```json
{
  "app": {
    "windows": [
      {
        "label": "main",
        "title": "Project Manager",
        "width": 1200,
        "height": 800,
        "minWidth": 900,
        "minHeight": 600,
        "resizable": true,
        "center": true,
        "decorations": true,
        "transparent": false
      },
      {
        "label": "mini",
        "title": "Quick Access",
        "width": 360,
        "height": 480,
        "resizable": false,
        "alwaysOnTop": true,
        "skipTaskbar": true,
        "decorations": false,
        "transparent": true,
        "center": false,
        "visible": false
      }
    ]
  }
}
```

### æ‰˜ç›˜å®ç°ï¼ˆRustï¼‰

**Cargo.toml ä¾èµ–**ï¼š
```toml
[dependencies]
tauri = { version = "2", features = ["tray-icon", "image-png"] }
```

**æ‰˜ç›˜åˆå§‹åŒ–ä»£ç **ï¼š
```rust
// src-tauri/src/tray.rs
use tauri::{AppHandle, Manager, TrayIcon, TrayIconEvent};
use tauri::menu::{Menu, MenuItem, Submenu};

pub fn create_tray(app: &AppHandle) -> Result<(), Box<dyn std::error::Error>> {
    // åˆ›å»ºæ‰˜ç›˜èœå•
    let open_mini = MenuItem::with_id(app, "open-mini", "æ‰“å¼€è¿·ä½ çª—å£", true, None::<&str>)?;
    let open_main = MenuItem::with_id(app, "open-main", "æ‰“å¼€ä¸»çª—å£", true, None::<&str>)?;
    let separator = MenuItem::separator(app)?;
    let quit = MenuItem::with_id(app, "quit", "é€€å‡º", true, None::<&str>)?;

    let menu = Menu::with_items(app, &[
        &open_mini,
        &open_main,
        &separator,
        &quit,
    ])?;

    // åˆ›å»ºæ‰˜ç›˜å›¾æ ‡
    let _tray = TrayIconBuilder::new()
        .icon(app.default_window_icon().unwrap().clone())
        .menu(&menu)
        .menu_on_left_click(false)
        .on_menu_event(move |app, event| match event.id.as_ref() {
            "open-mini" => {
                // æ˜¾ç¤ºè¿·ä½ çª—å£
                if let Some(mini_window) = app.get_webview_window("mini") {
                    mini_window.show()?;
                    mini_window.set_focus()?;
                }
            }
            "open-main" => {
                // æ˜¾ç¤ºä¸»çª—å£
                if let Some(main_window) = app.get_webview_window("main") {
                    main_window.show()?;
                    main_window.set_focus()?;
                }
            }
            "quit" => {
                app.exit(0);
            }
            _ => {}
        })
        .build(app)?;

    Ok(())
}
```

### è¿·ä½ çª—å£ä½ç½®è®°å¿†

**çª—å£ä½ç½®å­˜å‚¨**ï¼š
```rust
use serde::{Deserialize, Serialize};
use std::path::PathBuf;

#[derive(Debug, Serialize, Deserialize)]
struct WindowPosition {
    x: i32,
    y: i32,
}

#[tauri::command]
async fn save_mini_window_position(x: i32, y: i32) -> Result<(), String> {
    // ä¿å­˜åˆ°é…ç½®æ–‡ä»¶
    let config_dir = dirs::config_dir()
        .ok_or("æ— æ³•è·å–é…ç½®ç›®å½•")?;
    let config_path = config_dir.join("project-manager/window-pos.json");

    let pos = WindowPosition { x, y };
    let json = serde_json::to_string_pretty(&pos)
        .map_err(|e| e.to_string())?;

    std::fs::write(config_path, json).map_err(|e| e.to_string())?;
    Ok(())
}

#[tauri::command]
async fn load_mini_window_position() -> Result<Option<WindowPosition>, String> {
    let config_dir = dirs::config_dir()
        .ok_or("æ— æ³•è·å–é…ç½®ç›®å½•")?;
    let config_path = config_dir.join("project-manager/window-pos.json");

    if !config_path.exists() {
        return Ok(None);
    }

    let json = std::fs::read_to_string(config_path).map_err(|e| e.to_string())?;
    let pos: WindowPosition = serde_json::from_str(&json).map_err(|e| e.to_string())?;
    Ok(Some(pos))
}
```

**å‰ç«¯æ¢å¤çª—å£ä½ç½®**ï¼š
```typescript
// src/composables/useMiniWindow.ts
import { invoke } from '@tauri-apps/api/core';
import { getCurrentWebviewWindow } from '@tauri-apps/api/window';

const miniWindow = getCurrentWebviewWindow();

export async function restoreWindowPosition() {
  const pos = await invoke<WindowPosition | null>('load_mini_window_position');

  if (pos) {
    await miniWindow.setPosition({ x: pos.x, y: pos.y });
  } else {
    // é»˜è®¤å³ä¸‹è§’
    const monitor = await getCurrentWebviewWindow().monitor();
    const { width, height } = monitor?.size || { width: 1920, height: 1080 };
    await miniWindow.setPosition({
      x: width - 380,
      y: height - 520,
    });
  }
}

// ç›‘å¬çª—å£ç§»åŠ¨äº‹ä»¶ï¼Œä¿å­˜ä½ç½®
miniWindow.onMoved(({ x, y }) => {
  invoke('save_mini_window_position', { x, y });
});
```

### å…¨å±€å¿«æ·é”®

**æ³¨å†Œå¿«æ·é”®**ï¼š
```rust
// src-tauri/src/shortcuts.rs
use tauri_plugin_global_shortcut::{GlobalShortcutExt, Shortcut, ShortcutState};

pub fn register_global_shortcuts(app: &AppHandle) -> Result<(), Box<dyn std::error::Error>> {
    let shortcut = Shortcut::new(Some(Modifiers::CONTROL | Modifiers::SHIFT), Code::KeyP);

    app.global_shortcut().on_shortcut(shortcut, move |_app, _shortcut, _event| {
        // åˆ‡æ¢è¿·ä½ çª—å£æ˜¾ç¤º/éšè—
        if let Some(mini_window) = _app.get_webview_window("mini") {
            if mini_window.is_visible().unwrap_or(false) {
                let _ = mini_window.hide();
            } else {
                let _ = mini_window.show();
                let _ = mini_window.set_focus();
            }
        }
    })?;

    Ok(())
}
```

---

## æŠ€æœ¯æ ˆæ€»ç»“

| å±‚çº§ | æŠ€æœ¯ | ç”¨é€” |
|------|------|------|
| **æ¡Œé¢æ¡†æ¶** | Tauri 2.x | è·¨å¹³å°æ¡Œé¢åº”ç”¨ï¼ˆRust + WebViewï¼‰|
| **å‰ç«¯** | Vue 3 + TypeScript | UI æ¡†æ¶ |
| | Element Plus / Naive UI | ç»„ä»¶åº“ |
| | Pinia | çŠ¶æ€ç®¡ç† |
| | UnoCSS / Tailwind CSS | æ ·å¼ |
| **åç«¯** | Rust | ä¸»è¿›ç¨‹è¿è¡Œæ—¶ |
| | rusqlite / sqlx | æ•°æ®å­˜å‚¨ï¼ˆSQLiteï¼‰|
| | serde / serde_json | åºåˆ—åŒ–/ååºåˆ—åŒ– |
| | notify | æ–‡ä»¶ç›‘å¬ |
| **ç³»ç»Ÿ** | winreg | Windows æ³¨å†Œè¡¨ |
| | which-rust | å‘½ä»¤æŸ¥æ‰¾ |
| | tauri-plugin-global-shortcut | å…¨å±€å¿«æ·é”® |
| | tauri-plugin-single-instance | å•å®ä¾‹é” |
| | tauri-plugin-clipboard-manager | å‰ªè´´æ¿ |
| | tauri-plugin-dialog | æ–‡ä»¶å¯¹è¯æ¡† |
| | tauri-plugin-opener | æ‰“å¼€å¤–éƒ¨åº”ç”¨ |
| | tauri-plugin-updater | è‡ªåŠ¨æ›´æ–° |

---

## Tauri vs Electron å¯¹æ¯”

| å¯¹æ¯”é¡¹ | Electron | Tauri 2.x | è¯´æ˜ |
|--------|----------|-----------|------|
| **å®‰è£…åŒ…å¤§å°** | ~100-200 MB | ~5-15 MB | Tauri ä¸æ‰“åŒ… Chromiumï¼Œä½¿ç”¨ç³»ç»Ÿ WebView |
| **å†…å­˜å ç”¨** | ~100-200 MB | ~20-50 MB | æ›´è½»é‡çš„èµ„æºæ¶ˆè€— |
| **åç«¯è¯­è¨€** | Node.js | Rust | Rust æä¾›æ›´å¥½çš„æ€§èƒ½å’Œå®‰å…¨æ€§ |
| **å‰ç«¯æŠ€æœ¯** | ä»»æ„ Web æŠ€æœ¯ | ä»»æ„ Web æŠ€æœ¯ | ä¸¤è€…éƒ½æ”¯æŒ Vue/React/Svelte ç­‰ |
| **å¯åŠ¨é€Ÿåº¦** | è¾ƒæ…¢ï¼ˆéœ€å¯åŠ¨ Chromiumï¼‰| å¿«é€Ÿ | ç›´æ¥ä½¿ç”¨ç³»ç»Ÿ WebView |
| **å¼€å‘å¤æ‚åº¦** | ä½ï¼ˆJavaScript å…¨æ ˆï¼‰| ä¸­ç­‰ï¼ˆéœ€äº†è§£ Rust åŸºç¡€ï¼‰|
| **ç”Ÿæ€æˆç†Ÿåº¦** | éå¸¸æˆç†Ÿ | å¿«é€Ÿå‘å±•ä¸­ | Electron æœ‰æ›´å¤šç°æˆæ–¹æ¡ˆ |
| **å®‰å…¨æ€§** | éœ€è¦æ‰‹åŠ¨é…ç½® | é»˜è®¤æ›´å®‰å…¨ | Rust çš„å†…å­˜å®‰å…¨ç‰¹æ€§ |
| **æ’ä»¶ç³»ç»Ÿ** | npm æ¨¡å— | crates.io + Tauri Plugins | ä¾èµ–ä¸åŒçš„ç”Ÿæ€ |

---

## Tauri å…³é”®é…ç½®è¯´æ˜

### Cargo.toml ä¾èµ–

```toml
[dependencies]
tauri = { version = "2", features = ["shell-open"] }
serde = { version = "1", features = ["derive"] }
serde_json = "1"
rusqlite = { version = "0.32", features = ["bundled"] }
notify = "6"
winreg = "0.52"
which = "6"

[build-dependencies]
tauri-build = { version = "2", features = [] }
```

### Tauri é…ç½® (tauri.conf.json)

```json
{
  "$schema": "https://schema.tauri.app/config/2",
  "productName": "Project Manager",
  "version": "0.1.0",
  "identifier": "com.yourname.project-manager",
  "build": {
    "beforeDevCommand": "npm run dev",
    "beforeBuildCommand": "npm run build",
    "devUrl": "http://localhost:5173",
    "frontendDist": "../dist"
  },
  "app": {
    "windows": [
      {
        "title": "Project Manager",
        "width": 1200,
        "height": 800,
        "resizable": true,
        "fullscreen": false
      }
    ],
    "security": {
      "csp": null
    }
  },
  "bundle": {
    "active": true,
    "targets": "all",
    "icon": ["icons/32x32.png", "icons/128x128.png", "icons/128x128@2x.png", "icons/icon.icns", "icons/icon.ico"]
  },
  "plugins": {
    "shell": {
      "open": true
    },
    "dialog": {
      "scope": [
        {
          "allow": ["open", "save"],
          "path": "**"
        }
      ]
    }
  }
}
```

---

## æ‰©å±•æ–¹å‘ï¼ˆåæœŸï¼‰

- [ ] è·¨å¹³å°æ”¯æŒï¼ˆmacOSã€Linuxï¼‰
- [ ] Git é›†æˆï¼ˆåˆ†æ”¯æ˜¾ç¤ºã€çŠ¶æ€æ£€æµ‹ï¼‰
- [ ] é¡¹ç›®å¥åº·æ£€æŸ¥ï¼ˆä¾èµ–æ£€æµ‹ï¼‰
- [ ] äº‘åŒæ­¥é…ç½®
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] æ ‡ç­¾ç³»ç»Ÿ UI åŒ–
- [ ] ç»Ÿè®¡åŠŸèƒ½ï¼ˆä½¿ç”¨æ—¶é•¿ã€é¢‘ç‡ï¼‰